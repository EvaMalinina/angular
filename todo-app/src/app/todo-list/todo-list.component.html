<div class="wrapper">
  <form class="form" [formGroup]="form" (submit)=" $event.preventDefault()" (keydown.enter)="$event.preventDefault()">
    <div class="form__bg">
      <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Click to create a note
          </mat-panel-title>
          <mat-panel-description>
            <mat-icon class="touch">touch_app</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <mat-form-field>
          <mat-label>What's need to be done?</mat-label>
          <input matInput formControlName="title">
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <mat-label>Deadline</mat-label>
<!--          [formControl]="date"-->
          <input matInput [matDatepicker]="picker"  formControlName="deadline">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker touchUi #picker></mat-datepicker>
        </mat-form-field>

        <mat-action-row>
          <button mat-button (click) = "addTodo()" [disabled]="form.invalid">Note</button>
        </mat-action-row>
      </mat-expansion-panel>
    </div>
  </form>

  <div class="search">
    <mat-form-field appearance="legacy" color="primary">
      <mat-label>search</mat-label>
      <input matInput placeholder="type to search" [(ngModel)]="searchInput">
    </mat-form-field>
  </div>

  <!--*ngIf="todos.length; else noTodos"-->
  <div class="form">
    <button mat-icon-button color="primary" aria-label="sort icon">
      <mat-icon (click)="sortByAlphabet()">sort</mat-icon>
    </button>
    <mat-selection-list cdkDropList (cdkDropListDropped)="drop($event)">
      <div *ngFor="let todo of todos | filter : searchInput : 'title'" cdkDrag #todos class="form__row">
        <mat-list-item (click)="mark(todo)"
                       [class.complete]="todo?.isDone">
          {{todo.title}}
          <div class="form__dealine">
            <p class="form__dealine">Deadline:</p>
            {{todo.deadline}}
          </div>
        </mat-list-item>
        <button mat-icon-button color="primary" aria-label="delete icon">
          <mat-icon (click)="delete(todo)">delete</mat-icon>
        </button>
      </div>
    </mat-selection-list>
  </div>

  <ng-template #noTodos>
    <p>No notes ...</p>
  </ng-template>

  <div class="form form_btns">
    <mat-button-toggle-group name="fontStyle" aria-label="Font Style" class="btns">
      <mat-button-toggle value="bold" class="btns__item" (click)="listTodo()">All <mat-icon>dashboard</mat-icon></mat-button-toggle>
      <mat-button-toggle value="bold" class="btns__item" (click)="sortDone()">Done <mat-icon>work</mat-icon></mat-button-toggle>
      <mat-button-toggle value="italic" class="btns__item" (click)="sortInProgress()">In progress <mat-icon>work_outline</mat-icon></mat-button-toggle>
    </mat-button-toggle-group>
  </div>
</div>

